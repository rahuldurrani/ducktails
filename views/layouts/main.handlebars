<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/png" href="/public/img/favicon.ico">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

		<title>Ducktails</title>

		<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
		<meta name="viewport" content="width=device-width" />

		<link href="/public/css/bootstrap.min.css" rel="stylesheet" />
		<link href="/public/css/hipster_cards.css" rel="stylesheet"/>
		<!--     Fonts and icons     -->
		<link href="/public/css/pe-icon-7-stroke.css" rel="stylesheet" />
		<link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" />
		<link href='http://fonts.googleapis.com/css?family=Playfair+Display|Raleway:700,100,400|Roboto:400,700|Playfair+Display+SC:400,700' rel='stylesheet' type='text/css'>


		<!-- Login and Register -->
		<link href="/public/css/login-register.css" rel="stylesheet" />
		<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
		<script src="/public/js/login-register.js" type="text/javascript"></script>

		<style>
			.card{
				margin-bottom: 70px;
			}
		</style>
	</head>

	<body>
		<!-- navigation bar -->
		<nav class="navbar navbar-inverse">
			<div class="container-fluid">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
						<span class="icon-bar" />
						<span class="icon-bar" />
						<span class="icon-bar" />
					</button>
					<a class="navbar-brand" href="#">Ducktails</a>
				</div>
				<div class="collapse navbar-collapse" id="myNavbar">
					<ul class="nav navbar-nav">
						<li><a href="/">Home</a></li>
						<li><a href="/category">Categories</a></li>
						<li><a href="#">TODO</a></li>
						<li><a href="#">TODO</a></li>
					</ul>

					<form class="search" action="/search" method="POST">
						<input type="text" name="s" placeholder="Search..." class="search_input hint">
						<input type="submit" class="search_submit" value="">
					</form>

					<!-- login and register buttons -->
					<ul class="nav navbar-nav navbar-right">
					{{#if loginUserId}}
						<a class="btn big-login" type="submit" href={{userLink}}>My Profile</a>
					{{else}}
						<a class="btn big-login" data-toggle="modal" href="javascript:void(0)" onclick="openLoginModal();">Log in</a>
                 <a class="btn big-register" data-toggle="modal" href="javascript:void(0)" onclick="openRegisterModal();">Register</a></div>
					{{/if}}
					</ul>
				</div>

				<div class="modal fade login" id="loginModal">
					<div class="modal-dialog login animated">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
								<h4 class="modal-title">Login with</h4>
							</div>

							<div class="modal-body">
								<div class="box">
									<div class="content">
										<div class="social">
											<a class="circle github" href="/auth/github">
												<i class="fa fa-github fa-fw"></i>
											</a>
											<a id="google_login" class="circle google" href="/auth/google_oauth2">
												<i class="fa fa-google-plus fa-fw"></i>
											</a>
											<a id="facebook_login" class="circle facebook" href="/auth/facebook">
												<i class="fa fa-facebook fa-fw"></i>
											</a>
										</div>
										<div class="division">
											<div class="line l"></div>
											<span>or</span>
											<div class="line r"></div>
										</div>
										<div class="error"></div>
										<div class="form loginBox">
											<form method="post" action="/login" accept-charset="UTF-8">
												<input id="email" class="form-control" type="text" placeholder="Email" name="email">
												<input id="password" class="form-control" type="password" placeholder="Password" name="password">
												<input class="btn btn-default btn-login" type="submit" value="Login">
											</form>
										</div>
									</div>
								</div>
								<div class="box">
									<div class="content registerBox" style="display:none;">
										<div class="form">
											<form method="post" html="{:multipart=>true}" data-remote="true" action="/signup" accept-charset="UTF-8">
												<input id="username" class="form-control" type="text" placeholder="Email" name="username">
												<input id="password" class="form-control" type="password" placeholder="Password" name="password">
												<input id="password_confirmation" class="form-control" type="password" placeholder="Repeat Password" name="password_confirmation">
												<input class="btn btn-default btn-register" type="submit" value="Create account" name="commit">
											</form>
										</div>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<div class="forgot login-footer">
									<span>Looking to
										<a class="jump-footer" href="javascript: showRegisterForm();">create an account</a>
										?</span>
								</div>

								<div class="forgot register-footer" style="display:none">
									<span>Already have an account?</span>
									<a class="jump-footer" href="javascript: showLoginForm();">Login</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</nav>

		{{{body}}}
	</body>

	<script src="/public/js/jquery-1.10.2.js" type="text/javascript"></script>
	<script src="/public/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="/public/js/hipster-cards.js"></script>

	<!--  Just for demo	 -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/masonry/3.3.1/masonry.pkgd.min.js"></script>

	<script>
		$().ready(function(){
			var $container = $('.masonry-container');
			doc_width = $(document).width();

			if (doc_width >= 768){
				$container.masonry({
					itemSelector        : '.card-box',
					columnWidth         : '.card-box',
					transitionDuration  : 0
				});
			} else {
				$('.mas-container').removeClass('mas-container').addClass('row');
			}
		});
	</script>

</html>
